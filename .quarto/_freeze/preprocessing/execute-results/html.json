{
  "hash": "d58f0c9a3a188387ef1f02c84ff2425c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"preprocessing\"\nformat:\n  html:\n    theme: cosmo\n    toc: true\n    code-fold: true\n---\n\n\n\n\n\n\n# Preprocessing Steps\n\nThis page describes the data cleaning and preparation steps performed before analysis.\n\n---\n\n## 1. Missing Values\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'tidyverse' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'ggplot2' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'tibble' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'tidyr' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'readr' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'purrr' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'dplyr' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'stringr' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'forcats' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'lubridate' was built under R version 4.5.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.6\n✔ forcats   1.0.1     ✔ stringr   1.6.0\n✔ ggplot2   4.0.1     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.2.0     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(knitr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'knitr' was built under R version 4.5.2\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(readr)\nskaters <- read_csv(\"D:/GMU homeworks/STAT515/final proj/skaters.csv\", guess_max = 20000)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 4600 Columns: 154\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (4): name, team, position, situation\ndbl (150): playerId, season, games_played, icetime, shifts, gameScore, onIce...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\ncolSums(is.na(skaters))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                               playerId \n                                                      0 \n                                                 season \n                                                      0 \n                                                   name \n                                                      0 \n                                                   team \n                                                      0 \n                                               position \n                                                      0 \n                                              situation \n                                                      0 \n                                           games_played \n                                                      0 \n                                                icetime \n                                                      0 \n                                                 shifts \n                                                      0 \n                                              gameScore \n                                                      0 \n                                 onIce_xGoalsPercentage \n                                                      0 \n                                offIce_xGoalsPercentage \n                                                      0 \n                                  onIce_corsiPercentage \n                                                      0 \n                                 offIce_corsiPercentage \n                                                      0 \n                                onIce_fenwickPercentage \n                                                      0 \n                               offIce_fenwickPercentage \n                                                      0 \n                                            iceTimeRank \n                                                      0 \n                                            I_F_xOnGoal \n                                                      0 \n                                             I_F_xGoals \n                                                      0 \n                                          I_F_xRebounds \n                                                      0 \n                                            I_F_xFreeze \n                                                      0 \n                                       I_F_xPlayStopped \n                                                      0 \n                               I_F_xPlayContinuedInZone \n                                                      0 \n                          I_F_xPlayContinuedOutsideZone \n                                                      0 \n                               I_F_flurryAdjustedxGoals \n                                                      0 \n                           I_F_scoreVenueAdjustedxGoals \n                                                      0 \n                     I_F_flurryScoreVenueAdjustedxGoals \n                                                      0 \n                                     I_F_primaryAssists \n                                                      0 \n                                   I_F_secondaryAssists \n                                                      0 \n                                        I_F_shotsOnGoal \n                                                      0 \n                                        I_F_missedShots \n                                                      0 \n                                I_F_blockedShotAttempts \n                                                      0 \n                                       I_F_shotAttempts \n                                                      0 \n                                             I_F_points \n                                                      0 \n                                              I_F_goals \n                                                      0 \n                                           I_F_rebounds \n                                                      0 \n                                       I_F_reboundGoals \n                                                      0 \n                                             I_F_freeze \n                                                      0 \n                                        I_F_playStopped \n                                                      0 \n                                I_F_playContinuedInZone \n                                                      0 \n                           I_F_playContinuedOutsideZone \n                                                      0 \n                                   I_F_savedShotsOnGoal \n                                                      0 \n                         I_F_savedUnblockedShotAttempts \n                                                      0 \n                                              penalties \n                                                      0 \n                                    I_F_penalityMinutes \n                                                      0 \n                                        I_F_faceOffsWon \n                                                      0 \n                                               I_F_hits \n                                                      0 \n                                          I_F_takeaways \n                                                      0 \n                                          I_F_giveaways \n                                                      0 \n                                     I_F_lowDangerShots \n                                                      0 \n                                  I_F_mediumDangerShots \n                                                      0 \n                                    I_F_highDangerShots \n                                                      0 \n                                    I_F_lowDangerxGoals \n                                                      0 \n                                 I_F_mediumDangerxGoals \n                                                      0 \n                                   I_F_highDangerxGoals \n                                                      0 \n                                     I_F_lowDangerGoals \n                                                      0 \n                                  I_F_mediumDangerGoals \n                                                      0 \n                                    I_F_highDangerGoals \n                                                      0 \n                         I_F_scoreAdjustedShotsAttempts \n                                                      0 \n                              I_F_unblockedShotAttempts \n                                                      0 \n                 I_F_scoreAdjustedUnblockedShotAttempts \n                                                      0 \n                                     I_F_dZoneGiveaways \n                                                      0 \n                         I_F_xGoalsFromxReboundsOfShots \n                                                      0 \n                    I_F_xGoalsFromActualReboundsOfShots \n                                                      0 \n                                      I_F_reboundxGoals \n                                                      0 \n                        I_F_xGoals_with_earned_rebounds \n                                                      0 \n          I_F_xGoals_with_earned_rebounds_scoreAdjusted \n                                                      0 \n    I_F_xGoals_with_earned_rebounds_scoreFlurryAdjusted \n                                                      0 \n                                             I_F_shifts \n                                                      0 \n                                   I_F_oZoneShiftStarts \n                                                      0 \n                                   I_F_dZoneShiftStarts \n                                                      0 \n                             I_F_neutralZoneShiftStarts \n                                                      0 \n                                     I_F_flyShiftStarts \n                                                      0 \n                                     I_F_oZoneShiftEnds \n                                                      0 \n                                     I_F_dZoneShiftEnds \n                                                      0 \n                               I_F_neutralZoneShiftEnds \n                                                      0 \n                                       I_F_flyShiftEnds \n                                                      0 \n                                            faceoffsWon \n                                                      0 \n                                           faceoffsLost \n                                                      0 \n                                            timeOnBench \n                                                      0 \n                                        penalityMinutes \n                                                      0 \n                                   penalityMinutesDrawn \n                                                      0 \n                                         penaltiesDrawn \n                                                      0 \n                                   shotsBlockedByPlayer \n                                                      0 \n                                        OnIce_F_xOnGoal \n                                                      0 \n                                         OnIce_F_xGoals \n                                                      0 \n                           OnIce_F_flurryAdjustedxGoals \n                                                      0 \n                       OnIce_F_scoreVenueAdjustedxGoals \n                                                      0 \n                 OnIce_F_flurryScoreVenueAdjustedxGoals \n                                                      0 \n                                    OnIce_F_shotsOnGoal \n                                                      0 \n                                    OnIce_F_missedShots \n                                                      0 \n                            OnIce_F_blockedShotAttempts \n                                                      0 \n                                   OnIce_F_shotAttempts \n                                                      0 \n                                          OnIce_F_goals \n                                                      0 \n                                       OnIce_F_rebounds \n                                                      0 \n                                   OnIce_F_reboundGoals \n                                                      0 \n                                 OnIce_F_lowDangerShots \n                                                      0 \n                              OnIce_F_mediumDangerShots \n                                                      0 \n                                OnIce_F_highDangerShots \n                                                      0 \n                                OnIce_F_lowDangerxGoals \n                                                      0 \n                             OnIce_F_mediumDangerxGoals \n                                                      0 \n                               OnIce_F_highDangerxGoals \n                                                      0 \n                                 OnIce_F_lowDangerGoals \n                                                      0 \n                              OnIce_F_mediumDangerGoals \n                                                      0 \n                                OnIce_F_highDangerGoals \n                                                      0 \n                     OnIce_F_scoreAdjustedShotsAttempts \n                                                      0 \n                          OnIce_F_unblockedShotAttempts \n                                                      0 \n             OnIce_F_scoreAdjustedUnblockedShotAttempts \n                                                      0 \n                     OnIce_F_xGoalsFromxReboundsOfShots \n                                                      0 \n                OnIce_F_xGoalsFromActualReboundsOfShots \n                                                      0 \n                                  OnIce_F_reboundxGoals \n                                                      0 \n                    OnIce_F_xGoals_with_earned_rebounds \n                                                      0 \n      OnIce_F_xGoals_with_earned_rebounds_scoreAdjusted \n                                                      0 \nOnIce_F_xGoals_with_earned_rebounds_scoreFlurryAdjusted \n                                                      0 \n                                        OnIce_A_xOnGoal \n                                                      0 \n                                         OnIce_A_xGoals \n                                                      0 \n                           OnIce_A_flurryAdjustedxGoals \n                                                      0 \n                       OnIce_A_scoreVenueAdjustedxGoals \n                                                      0 \n                 OnIce_A_flurryScoreVenueAdjustedxGoals \n                                                      0 \n                                    OnIce_A_shotsOnGoal \n                                                      0 \n                                    OnIce_A_missedShots \n                                                      0 \n                            OnIce_A_blockedShotAttempts \n                                                      0 \n                                   OnIce_A_shotAttempts \n                                                      0 \n                                          OnIce_A_goals \n                                                      0 \n                                       OnIce_A_rebounds \n                                                      0 \n                                   OnIce_A_reboundGoals \n                                                      0 \n                                 OnIce_A_lowDangerShots \n                                                      0 \n                              OnIce_A_mediumDangerShots \n                                                      0 \n                                OnIce_A_highDangerShots \n                                                      0 \n                                OnIce_A_lowDangerxGoals \n                                                      0 \n                             OnIce_A_mediumDangerxGoals \n                                                      0 \n                               OnIce_A_highDangerxGoals \n                                                      0 \n                                 OnIce_A_lowDangerGoals \n                                                      0 \n                              OnIce_A_mediumDangerGoals \n                                                      0 \n                                OnIce_A_highDangerGoals \n                                                      0 \n                     OnIce_A_scoreAdjustedShotsAttempts \n                                                      0 \n                          OnIce_A_unblockedShotAttempts \n                                                      0 \n             OnIce_A_scoreAdjustedUnblockedShotAttempts \n                                                      0 \n                     OnIce_A_xGoalsFromxReboundsOfShots \n                                                      0 \n                OnIce_A_xGoalsFromActualReboundsOfShots \n                                                      0 \n                                  OnIce_A_reboundxGoals \n                                                      0 \n                    OnIce_A_xGoals_with_earned_rebounds \n                                                      0 \n      OnIce_A_xGoals_with_earned_rebounds_scoreAdjusted \n                                                      0 \nOnIce_A_xGoals_with_earned_rebounds_scoreFlurryAdjusted \n                                                      0 \n                                        OffIce_F_xGoals \n                                                      0 \n                                        OffIce_A_xGoals \n                                                      0 \n                                  OffIce_F_shotAttempts \n                                                      0 \n                                  OffIce_A_shotAttempts \n                                                      0 \n                                   xGoalsForAfterShifts \n                                                      0 \n                               xGoalsAgainstAfterShifts \n                                                      0 \n                                    corsiForAfterShifts \n                                                      0 \n                                corsiAgainstAfterShifts \n                                                      0 \n                                  fenwickForAfterShifts \n                                                      0 \n                              fenwickAgainstAfterShifts \n                                                      0 \n```\n\n\n:::\n:::\n\n\n\n\n\n## 2.Convert Character → Numeric Where Needed\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskaters_clean <- skaters %>%\n  mutate(across(where(is.character), ~ suppressWarnings(as.numeric(.))))\n```\n:::\n\n\n\n\n\n## 3. Remove Impossible or Negative Values\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskaters_clean <- skaters_clean %>%\nfilter(shifts >= 0)\n```\n:::\n\n\n\n\n\n\n## 4. Save Clean Version for Analysis\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskaters <- skaters_clean\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}